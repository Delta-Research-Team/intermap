
**InterMap** comes with an interactive Shiny application named **InterVis**, which allows users to explore the interaction fingerprints computed by the tool. This user-friendly web interface simplifies the analysis and interpretation of molecular interaction data.

## 1. How to Launch the App

Once InterMap is installed and your virtual environment is activated, run the following command from the terminal:

```bash
intervis
```

This will automatically launch the InterVis server and open your default web browser with the app's interface.

![Interaction Network](assets/global_panel.png){ width="100%" }

!!! warning "No need to manually configure ports or set paths, everything is designed for immediate use."

## 2. App Interface Components

The InterVis interface consists of three main areas:

??? note "Control Panel (Right Side)"

    - Contains tools for loading data and configuring visualizations.
    - Always visible for quick access.

??? note "Visualization Panel (Left Side)"

    - Displays different types of visualizations.
    - Organized into tabs for smooth navigation.

??? note "Footer (Bottom Bar)"

    - Provides direct links to the repository, scientific paper, and official documentation.

## 3. Using the App

### 3.1. Upload Your Data

??? note "Upload InterMap CSV File"

    Pickle File (.pickle): Contains the raw interaction data calculated by InterMap.

    - Click on "Browse Pickle" to upload this file.

    - Select the interaction fingerprint file generated by InterMap.

??? note "Upload Topology File"

    Configuration File (.cfg): Contains parameters used during the InterMap analysis.

    - Click on "Browse Config" to upload this file.

    - Select the configuration file used to run InterMap that generated the previously uploaded pickle file.


??? note "Atom/Residue Selection (Optional)"

    - Filter interactions using MDAnalysis selection syntax

    !!! example "MDAnalysis Selection Examples"
    ```
    - "protein"                                          # All protein atoms
    - "resname ALA"                                      # All alanine residues
    - "protein and name CA"                              # Alpha carbon atoms in proteins
    - "resid 10 to 30"                                   # Residues with IDs from 10 to 30
    - "within 5 of resname LIG"                          # Atoms within 5Ã… of ligand residues
    - "(resname ALA or resname VAL) and not name H*"     # Non-hydrogen atoms in alanine or valine residues
    ```

### 3.2. Filter Options

??? note "Interaction Filter"

    **Note:** Upon uploading the `.pickle` file, InterVis will automatically detect all stored interactions and display them in this panel.

    - Select one or multiple types.

    - Click **"Select All"** to toggle all options.

??? note "Annotation Filter"

    **Note:** All annotations saved in the `.pickle` file are automatically detected and listed in the annotation filter panel.
    
    - Filters interactions based on custom annotations.

    - Useful for focusing on specific regions or labels.

    - Can be combined with other filters.

    - Click **"Select All"** to toggle all options.

??? note "Prevalence Threshold"

    **Default Value:** When the files are loaded, InterVis automatically assigns a default prevalence threshold of **30%**.

    - Adjust minimum prevalence (0â€“100%)

    - Affects all visualizations simultaneously

    - **Show Value:** Option to show/hide numeric values on plots

## 4. Tabs and Visualizations

### 4.1. Tab 1: Sele1 vs Sele2

Overview of all interaction pairs between two selections.

![Interaction Network](assets/Tab_1.png){ width="100%" }

**`Interpretation Guide:`**

1. **Axes**
    - **X-axis**: Selection 1 (from config file)
    - **Y-axis**: Selection 2 (from config file)
2. **Colored Cells**
    - **Color**: Interaction type
    - **Number**: (Optional) Interaction prevalence
    - **Layout**: Uses an interaction priority system â€” if multiple interactions occur, the most relevant is shown

**`Advanced Features:`**

!!! info "Hover"

     - Sel1: Residue/Atom 1
     - Note1: Annotation 1
     - Sel2: Residue/Atom 2
     - Note2: Annotation 2
     - Interaction: Type
     - Prevalence: XX.X%


- **Transpose Button** to swap X/Y axes â€” useful for alternate views


### 4.2. Tab 2 : Prevalence

Bar plots showing interaction prevalence for each component.

![Interaction Network](assets/Tab_2.png){ width="100%" }

**`Top Panel (Selection 1):`**

- **X-axis**: Components from Selection 1
- **Y-axis**: Prevalence (%)
- **Bars**:
    - **Color**: Interaction type
    - **Height**: Relative prevalence

**`Bottom Panel (Selection 2):`**

- Same structure as the top panel
- Focused on Selection 2 components

!!! info "Hover"

    - Selection_1: Component 1
    - Selection_2: Component 2
    - Interaction: Type
    - Prevalence: XX.X%
    - Annotation: Specific label


### 4.3. Tab 3: Life Time

Violin plots representing the distribution of interaction lifetimes.

![Interaction Network](assets/Tab_3.png){ width="100%" }


**`Plot Elements:`**

- **Violin Shape**: Distribution of durations
- **Width**: Relative frequency
- **Color**: Interaction type

**`Internal Markers:`**

- **Center line**: Median
- **Box**: Interquartile range
- **Dots**: Outliers

**`Interpretation:`**

- Wide violins = variable interactions
- Narrow violins = stable interactions
- Outliers = rare yet stable periods

!!! info "Hover"

    - Pair: Selection 1 â€“ Selection 2
    - Interaction: Type
    - Prevalence: XX.X%
    - Lifetime: Frames
    - Frame Range: Startâ€“End


### 4.4. Tab 4: Time Series

Tracks the occurrence of interactions over time.

![Interaction Network](assets/Tab_4.png){ width="100%" }

**`Components:`**

1. **Main Panel**
    - **X-axis**: Frame number
    - **Y-axis**: Interaction pairs
    - **Dots**: Interaction present
2. **Top Histogram**
    - Number of interactions per frame
3. **Side Histogram**
    - Total prevalence per pair

**`Interpretation:`**

- Identify synchronous events
- Track stable vs. transient interactions
- Reveal dynamic behavior

!!! info "Hover"

    - Frame: Frame number
    - Selection Pair: Interacting residues
    - Interaction: Type
    - Prevalence: Global %


### 4.5. Tab 5: Network

Interactive molecular network view.

![Interaction Network](assets/Tab_5.png){ width="100%" }


**`Elements:`**

- **Nodes**:
    - ðŸ”µ Blue = Selection 1 components
    - ðŸ”´ Red = Selection 2 components
- **Links**:
    - **Color**: Interaction type
    - **Number**: Prevalence
    - **Length**: Inversely related to prevalence

**`Features:`**

- Drag & rearrange nodes
- Zoom and pan
- Hover to reveal details
- Automatic layout adjustments
